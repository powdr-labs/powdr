[package]
name = "pipeline"
version = "0.1.0"
edition = "2021"

[features]
halo2 = ["dep:halo2", "backend/halo2"]

[dependencies]
backend = { path = "../backend" }
itertools = "^0.10"
log = "0.4.17"
mktemp = "0.5.0"
number = { path = "../number" }
parser_util = { path = "../parser_util" }
parser = { path = "../parser" }
executor = { path = "../executor" }
pilopt = { path = "../pilopt" }
asm_to_pil = { path = "../asm_to_pil" }
pil_analyzer = { path = "../pil_analyzer" }
halo2 = { path = "../halo2", optional = true }
ast = { path = "../ast" }
analysis = { path = "../analysis" }
linker = { path = "../linker" }
airgen = { path = "../airgen" }
importer = { path = "../importer" }
serde = { version = "1.0", default-features = false, features = ["alloc", "derive", "rc"] }
serde_cbor = "0.11.2"

[dev-dependencies]
test-log = "0.2.12"
env_logger = "0.10.0"
criterion = { version = "0.4", features = ["html_reports"] }
riscv = { path = "../riscv" }
asm_utils = { path = "../asm_utils" }

[build-dependencies]
walkdir = "2.4.0"

[[bench]]
name = "executor_benchmark"
harness = false
